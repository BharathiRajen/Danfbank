!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common"),require("@angular/forms")):"function"==typeof define&&define.amd?define("ngx-select2",["exports","@angular/core","@angular/common","@angular/forms"],t):t((e=e||self)["ngx-select2"]={},e.ng.core,e.ng.common,e.ng.forms)}(this,(function(e,t,n,o){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function r(e,t,n,o){var r,i=arguments.length,l=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(l=(i<3?r(l):i>3?r(t,n,l):r(t,n))||l);return i>3&&l&&Object.defineProperty(t,n,l),l}function i(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}var s=function(){function e(e){this._renderer=e,this.options={},this.required=!1,this.maxCount=Number.MAX_SAFE_INTEGER,this.minCount=Number.MIN_SAFE_INTEGER,this.valueChange=new t.EventEmitter,this._onChange=function(e){},this._onTouched=function(){}}var n;return n=e,e.prototype.ngOnInit=function(){},e.prototype.ngAfterViewInit=function(){var e=this;this._jqueryElement=$(this.selectControll.nativeElement),this.initSelect2(),this._jqueryElement.on("select2:select select2:unselect",(function(t){var n,o,r=e._jqueryElement.select2("data");try{for(var i=l(r),s=i.next();!s.done;s=i.next()){var u=s.value;delete u.element,delete u.disabled,delete u.selected}}catch(e){n={error:e}}finally{try{s&&!s.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}e.options.multiple||(r="select2:unselect"==t.type?null:r[0]),e.selectedValue=r,e._onChange(r),e.valueChange.emit(r)})),this.selectedValue&&this.setSelect2Value(this.selectedValue)},e.prototype.ngOnChanges=function(e){this._jqueryElement&&this.hasChanged(e)&&(this.initSelect2(),this.selectedValue&&this.setSelect2Value(this.selectedValue))},e.prototype.ngOnDestroy=function(){this._jqueryElement.select2("destroy")},e.prototype.writeValue=function(e){this.selectedValue=e,null!=e&&this.setSelect2Value(e)},e.prototype.registerOnChange=function(e){this._onChange=e},e.prototype.registerOnTouched=function(e){this._onTouched=e},e.prototype.setDisabledState=function(e){this.disabled=e},e.prototype.validate=function(e){if(this.disabled)return null;var t=this.selectedValue?this.selectedValue.length:0;return!0===this.required&&0===t?{required:!0}:this.minCount>0&&t<this.minCount?{minCount:!0}:this.maxCount>0&&t>this.maxCount?{maxCount:!0}:null},e.prototype.initSelect2=function(){1==this._jqueryElement.hasClass("select2-hidden-accessible")&&(this._jqueryElement.select2("destroy"),this._renderer.setProperty(this.selectControll.nativeElement,"innerHTML",""));var e={data:this.data};Object.assign(e,this.options),this._jqueryElement.select2(e)},e.prototype.setSelect2Value=function(e){if(this._jqueryElement&&e){var t=e.id||e;Array.isArray(e)&&(t=e.map((function(e){return e.id}))),this._jqueryElement.val(t).trigger("change")}else this.selectedValue=e},e.prototype.hasChanged=function(e){return!(!e.data||JSON.stringify(e.data.previousValue)===JSON.stringify(e.data.currentValue))||!(!e.options||JSON.stringify(e.options.previousValue)===JSON.stringify(e.options.currentValue))},e.ctorParameters=function(){return[{type:t.Renderer2}]},r([t.ViewChild("selectControll"),i("design:type",t.ElementRef)],e.prototype,"selectControll",void 0),r([t.Input(),i("design:type",Array)],e.prototype,"data",void 0),r([t.Input(),i("design:type",Boolean)],e.prototype,"disabled",void 0),r([t.Input(),i("design:type",Object)],e.prototype,"options",void 0),r([t.Input(),i("design:type",Boolean)],e.prototype,"required",void 0),r([t.Input(),i("design:type",Number)],e.prototype,"maxCount",void 0),r([t.Input(),i("design:type",Number)],e.prototype,"minCount",void 0),r([t.Output(),i("design:type",t.EventEmitter)],e.prototype,"valueChange",void 0),e=n=r([t.Component({selector:"l-select2",template:'<select #selectControll [disabled]="disabled" style="width: 100%">\r\n  <ng-content select="option, optgroup">\r\n  </ng-content>\r\n</select>',providers:[{provide:o.NG_VALUE_ACCESSOR,useExisting:t.forwardRef((function(){return n})),multi:!0},{provide:o.NG_VALIDATORS,useExisting:t.forwardRef((function(){return n})),multi:!0}]}),i("design:paramtypes",[t.Renderer2])],e)}(),u=function(){function e(){}return e=r([t.NgModule({imports:[n.CommonModule,o.FormsModule],declarations:[s],exports:[s]})],e)}();e.LSelect2Component=s,e.LSelect2Module=u,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=ngx-select2.umd.min.js.map